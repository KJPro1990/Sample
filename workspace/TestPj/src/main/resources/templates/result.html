<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>W2UI Form (ログイン画面)</title>
	<script src="../js/jquery-3.6.1.min.js"></script>
	<script type="text/javascript" src="../js/w2ui-1.5.min.js"></script>
	<link rel="stylesheet" type="text/css" href="../css/w2ui-1.5.min.css" />
</head>

<body>
	<h1>Result</h1>
	<p th:text="'id: ' + ${sampleResource.id}" />
	<p th:text="'content: ' + ${sampleResource.content}" />
	<a href="/index.html">Submit another message</a>

	<div id="form1" style="width: 100%; height: 200px;"></div>
	<div id="form2" style="width: 100%; height: 200px;"></div>
	<div id="form3" style="width: 100%; height: 200px;"></div>
	<div id="grid1" style="width: 100%; height: 350px;"></div>
	<div id="grid2" style="width: 100%; height: 350px;"></div>
	<div id="grid3" style="width: 100%; height: 350px;"></div>
	
	<script type="text/javascript" th:inline="javascript">
		const formInfos = /*[[${formInfo}]]*/[]
		const gridInfos = /*[[${gridInfo}]]*/[]

		$(function() {
//			$('#activeForm').w2form({
//				name: 'activeForm',
//				box: '#activeForm',
//				fields: /*[[${formFields}]]*/[]
//			})

//			$('#activeGrid').w2grid({
//				name: 'activeGrid',
//				box: '#activeGrid',
//				show: {
//					toolbar: true,
//					footer: true,
//					lineNumbers: true,
//				},
//				columns: /*[[${gridColumns}]]*/[],
//				multiSearch: true,
//				searches: /*[[${gridSearches}]]*/[]
//			});

			formInfos.map(formInfo => {
				$(formInfo.box).w2form({
					name: formInfo.name,
					box: formInfo.box,
					fields: formInfo.fields
				})
			});

			gridInfos.map(gridInfo => {
				$(gridInfo.box).w2grid({
					name: gridInfo.name,
					box: gridInfo.box,
					show: gridInfo.show,
					columns: gridInfo.columns,
					multiSearch: true,
					searches: gridInfo.searches
				});
			})
		});
	</script>
</body>

</html>